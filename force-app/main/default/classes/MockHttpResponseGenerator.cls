@isTest
global class MockHttpResponseGenerator implements HttpCalloutMock {
    Boolean  isMockResponseSuccessful; 

  	public MockHttpResponseGenerator(Boolean isMockResponseSuccessful) {
    	this.isMockResponseSuccessful  = isMockResponseSuccessful;
  	}
    
    global HTTPResponse respond(HTTPRequest req) {
		HttpResponse res = new HttpResponse();
        if (this.isMockResponseSuccessful) {
       		res.setHeader('Content-Type', 'application/json');
        	res.setBody('{"expand":"names,schema","startAt":0,"maxResults":100,"total":1,"issues":[{"expand":"operations,versionedRepresentations,editmeta,changelog,renderedFields","id":"97492","self":"https://jira.linuxfoundation.org/rest/api/2/issue/97492","key":"ST-61","fields":{"components":[{"self":"https://jira.linuxfoundation.org/rest/api/2/component/14802","id":"14802","name":"Certification"},{"self":"https://jira.linuxfoundation.org/rest/api/2/component/14801","id":"14801","name":"E-Learning"}],"assignee":{"self":"https://jira.linuxfoundation.org/rest/api/2/user?username=pchennoju","name":"pchennoju","key":"pchennoju","avatarUrls":{"48x48":"https://www.gravatar.com/avatar/76cd8fde0a76b0610b62e9803b04567c?d=mm&s=48","24x24":"https://www.gravatar.com/avatar/76cd8fde0a76b0610b62e9803b04567c?d=mm&s=24","16x16":"https://www.gravatar.com/avatar/76cd8fde0a76b0610b62e9803b04567c?d=mm&s=16","32x32":"https://www.gravatar.com/avatar/76cd8fde0a76b0610b62e9803b04567c?d=mm&s=32"},"displayName":"Pallavi Chennoju","active":true,"timeZone":"America/Los_Angeles"},"status":{"self":"https://jira.linuxfoundation.org/rest/api/2/status/11015","description":"This was auto-generated by Jira Service Desk during workflow import","iconUrl":"https://jira.linuxfoundation.org/images/icons/status_generic.gif","name":"Waiting for support","id":"11015","statusCategory":{"self":"https://jira.linuxfoundation.org/rest/api/2/statuscategory/2","id":2,"key":"new","colorName":"blue-gray","name":"To Do"}}}}]}');
        	res.setStatusCode(200);  
    	} 
        else {
      		CalloutException e = (CalloutException)CalloutException.class.newInstance();
        	e.setMessage('Unauthorized endpoint, please check Setup->Security->Remote site settings.');
            throw e;
    	}
	return res;
    }
}